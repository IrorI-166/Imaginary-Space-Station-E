# Imaginary-Space-Station-E
仮想宇宙ステーション”E”

# 名前由来

Imaginaly Space Station E

EはEntropy, Energy, Eternalなど、さまざまな表現を示す。

# 構想

Twitterみたいな規模感はまずスコープから外して考える。

数百～数千人程度の小さなコミュニティの構築から目指し、流れに沿って徐々に拡張出来たらいい。

# 構造

## 一般開放エリア

全ユーザーに公開されるカテゴリ。

- **通常雑談**：自由に雑談ができるスペース。
- **ゲームカテゴリ**：ゲーム関連の話題に特化したエリア。
- **その他興味のあることや雑談VC**：興味共有やボイスチャットが可能なエリア。

## 研究エリア

プロダクト開発に協力するユーザーのみがアクセスできる限定エリア。

- **研究開発チャット**：プロダクト開発に関する議論・進捗共有。
- **進捗管理**：プロジェクトの進捗状況を管理。

---

# 要件定義

## 必要な機能

1. **ユーザー操作**：フォロー、アンフォロー、ミュート、ブロック。
2. **メッセージポスト**：テキスト、画像、動画、GIFの投稿。ポスト時にタグを選ぶことで、他の人に見つけてもらいやすくしたり、またタグでタイムラインを構成しているときに確実に表示されるようにできる。
3. **カスタマイズ可能なタイムライン**：フォローやタグに基づいた投稿表示。
4. **検索機能**：ポストやユーザーの検索。
5. **ユーザー設定**：言語設定、メールアドレス、ID、パスワードの管理。
6. **DM機能**（任意）：ダイレクトメッセージ機能。

## 画面設計

[Figmaリンク](https://www.figma.com/design/xlZrFeiV0VIb6DBtTtZfcA/Imagination-Space-Station?node-id=0-1&node-type=canvas&t=E0kKw0Lnt1ddyco9-0)

---

# データベース設計

### ユーザー情報テーブル

- **PK**：ユーザーID
- **内容**：メールアドレス、パスワード、言語、フォロー・ミュート・ブロックのユーザーリスト

### ポスト情報テーブル

- **PK**：ポストID
- **内容**：ポスト主のユーザーID、テキスト、コメント先ポストID（未設定時はNull）、コメントポストIDリスト

---

# ログ機能の要件定義

### 目的

ユーザーの操作ログを記録し、サポートや分析、トラブルシューティングに利用する。

### 必要な機能

1. **操作ログの記録**：投稿、コメント、フォロー、ブロック、ミュートなどの操作を記録（ユーザーID、操作内容、対象ID、日時、IPアドレス、端末情報を含む）。
2. **ログの保持期間**：ログの保存期間を1年間に設定し、古いログは自動削除。
3. **ログ検索・参照**：管理者が特定の条件でログを検索可能なインターフェース。
4. **エラーログ**：エラー発生時に別途記録し、必要に応じて通知。

### データベース設計

- **ログテーブル**
    - **PK**：ログID
    - **内容**：ユーザーID、操作内容、対象ID、日時、IPアドレス、端末情報、エラーレベル

---

# アクセス管理の要件定義

### 目的

異なるユーザー役割（一般、研究エリア、管理者）に応じたアクセス制御を行う。

### 必要な機能

1. **ユーザー役割の設定**：一般ユーザーをデフォルトとし、条件により「研究エリア」「管理者」権限を割り当て。
2. **アクセス制御**：ユーザーの役割に基づき、エリアごとにアクセス許可をチェック。
3. **権限変更**：管理者がユーザーの権限を変更可能なインターフェース。
4. **セキュリティ強化**：重要エリアには二要素認証等の追加認証手段を検討。

### データベース設計

- **ユーザー役割テーブル**
    - **PK**：役割ID
    - **内容**：役割名（例：一般、研究エリア、管理者）
- **ユーザー権限テーブル**
    - **内容**：ユーザーID、役割ID、権限付与日時

---

# ユーザー関係テーブルの要件定義

### 目的

ユーザー間のフォロー、ミュート、ブロック関係を効率的に管理する。

### 必要な機能

1. **フォロー関係の記録**：ユーザー間のフォロー/アンフォローを記録し、開始日時も保存。
2. **ミュート関係の記録**：通知や投稿のミュートを記録（ミュートタイプ含む）。
3. **ブロック関係の記録**：ユーザー間のブロックを記録し、双方向でのアクセス制限を実現。

### データベース設計

- **フォローテーブル**
    - **PK**：フォローID
    - **内容**：フォローユーザーID、対象ユーザーID、開始日時
- **ミュートテーブル**
    - **PK**：ミュートID
    - **内容**：ミュートユーザーID、対象ユーザーID、ミュートタイプ、開始日時
- **ブロックテーブル**
    - **PK**：ブロックID
    - **内容**：ブロックユーザーID、対象ユーザーID、開始日時

# Commit Regulation
コミット規約を以下に示します。

[cz-git](https://github.com/Zhengqbbb/cz-git?tab=readme-ov-file)を使ってコミットを行ってください
package.jsonにセーブ済みのため、`npm init`で必要なその他パッケージとともにインストールされるはずですが、もしコマンドが認識されなかった場合は[cz-gitのガイド](https://cz-git.qbb.sh/guide/)を参考にインストールを行ってください。